#{extends 'main.html' /}
#{set 'moreStyles'}

<link rel="stylesheet" type="text/css" media="screen" href="/public/stylesheets/crud.css" />
#{/set}

<div id="crudBlank" class="${type.name}">

    <h2 id="crudBlankTitle">&{'crud.blank.title', type.modelName}</h2>

    <div class="objectForm">
	#{form action:@create(), enctype:'multipart/form-data'}
		#{crud.form}
        #{crud.custom 'tags'}
        <input type="hidden" name="object.tags@id" value="" />


        #{field 'object.tags'}
        <p>
            <label>&{field.name}</label>

            #{list items:models.Tag.findAll(), as:'tag'}
            <input id="object_tags" name="object.tags@id" type="checkbox" value="${tag.id}">${tag.name}
                   #{/list}
                   <span class="error">${field.error}</span>
        </p>
        #{/field}
        #{/crud.custom}


        #{/crud.form}
                <input type="text" name="extraTags" value="" />

        <p class="crudButtons">
            <input type="submit" name="_save" value="&{'crud.save', type.modelName}" />
            <input type="submit" name="_saveAndContinue" value="&{'crud.saveAndContinue', type.modelName}" />
            <input type="submit" name="_saveAndAddAnother" value="&{'crud.saveAndAddAnother', type.modelName}" />
        </p>
	#{/form}
    </div>

</div>