#{extends 'main.html' /}
#{set title:'Edit Menu' /}

You are adding an item to &{menu.name} <br />

#{form @MenuController.doAddItem(menu.id.toStringMongod()) , id:'creationForm', enctype:'multipart/form-data' }

#{field 'item.type'}
<p>
    <label>Type: </label>
    <select id="${field.id}" name="${field.name}" class="${field.errorClass}">
        #{list items:types, as:'t'}
            <option value="${t}" ${(field.flash?.toString()?.equals(t))? 'selected="selected"'.raw() : ''}>${t}</option>
        #{/list}
    </select>
    <span class="error">${field.error}</span>
</p>
#{/}

#{field 'item.value'}
<p>
    <label>Value: </label>
    <input type="text" id="${field.id}" name="${field.name}" value="${field.flash}" class="${field.errorClass}" />
    <span class="error">${field.error}</span>
</p>
#{/}

#{field 'item.display'}
<p>
    <label>Display string: </label>
    <input type="text" id="${field.id}" name="${field.name}" value="${field.flash}" class="${field.errorClass}" />
    <span class="error">${field.error}</span>
</p>
#{/}

#{field 'item.cssLink'}
<p>
    <label>Additionnal css class for the link: </label>
    <input type="text" id="${field.id}" name="${field.name}" value="${field.flash}" class="${field.errorClass}" />
    <span class="error">${field.error}</span>
</p>
#{/}

#{field 'item.subMenu'}
<p>
    <label>SubMenu: </label>
    <select id="${field.id}" name="${field.name}" class="${field.errorClass}">
        #{list items:models.menu.Menu.getAllNames(), as:'m'}
            <option value="${m}" ${(field.flash?.toString()?.equals(m))? 'selected="selected"'.raw() : ''}>${m}</option>
        #{/list}
    </select>
    <span class="error">${field.error}</span>
</p>
#{/}

<ul>
#{errors}
    <li>${error}</li>
#{/errors}
</ul>


<input type="submit" value="ok" />
#{/form}
