

#{field 'object.' + _name}
<label for="${field.id}">
    &{_name}
</label>


%{
    java.util.TreeSet<String> ll = new java.util.TreeSet<String>();
    Iterator<java.util.Locale> its = java.util.Arrays.asList(java.util.Locale.getAvailableLocales()).iterator();
    while(its.hasNext()){
        ll.add(its.next().toString());
    }
    }%

<div id="hereIsTD">
    <ul>
        %{
        // support show
        if(_value != null){
        }%
        #{list items:_value.entrySet(), as:'pd'}
        <li>
            <select name="${field.name}.lang">
            #{list items:ll, as:'l'}
                <option value="${l}" ${pd.getKey().toString().equals(l)? 'selected="true"'.raw() : ''}>${l}</option>
            #{/list}
            </select>
            <input type="hidden" name="${field.name}.idpd" value="${pd.getValue().id}" />
            <input type="text" value="${pd.getValue().title}" name="${field.name}.title" />
            <input type="text" value="${pd.getValue().content}" name="${field.name}.content" />
        </li>
        #{/list}
        %{
        }
        }%

        <li>
            <select name="${field.name}.lang">
            #{list items:ll, as:'l'}
                <option value="${l}" ${request.acceptLanguage().get(0)?.substring(0, 2).equals(l.toString())? 'selected="true"'.raw() : ''}>${l}</option>
            #{/list}
            </select>
            <input type="text" name="${field.name}.title" />
            <input type="text" name="${field.name}.content" /></li>
    </ul>
</div>
#{ifError field.name}
<span class="error">${field.error}</span>
#{/ifError}
#{/field}