# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Index stuff
GET     /                                                     PageViewer.index

# Pages handling stuff
# List tagged, search, create, edit, translate...
# Paths start with /pages to avoid collisions with pages urlIds
GET     /pages/tagged/{tagName}                               PageViewer.pagesTag
*       /pages/search                                         SearchController.search
GET     /pages/new                                            PageController.newPage(action:'create',otherUrlId:'',language:'')
POST    /pages/new                                            PageController.doNewPage(action:'create',otherUrlId:'',otherLanguage:'')
GET     /pages/confirmDelete/{urlId}/from/{language}          PageController.deletePage_confirm
GET     /pages/{action}/{otherUrlId}/from/{language}          PageController.newPage
POST    /pages/{action}/{otherUrlId}/{otherLanguage}          PageController.doNewPage

# Page accessing stuff
GET     /page/{urlId}                                         PageViewer.page

# Menus stuff
GET     /menus/new                                            MenuController.newMenu
GET     /menus/create                                         MenuController.newMenu
GET     /menus/list                                           MenuController.list
GET     /menu/{id}/delete                                     MenuController.delete
GET     /menu/{id}/edit                                       MenuController.edit
POST    /menu/{id}/edit                                       MenuController.edit_end
GET     /menu/{id}/items/new                                  MenuController.addItem
POST    /menu/{id}/items/new                                  MenuController.doAddItem
GET     /menu/{idMenu}/item/{idMenuItem}/remove               MenuController.removeItem

# Captcha generator
GET     /captcha/{randomID}                                   BlogViewer.captcha

# Blog stuff starts here
GET     /blog                                                 BlogViewer.index

# Posts handling stuff, see Pages handling stuff
GET     /blog/posts/tagged/{tagName}                          BlogViewer.listTagged
GET     /blog/posts/last                                      BlogViewer.last
GET     /blog/posts/new                                       BlogController.newPost(action:'create',otherUrlId:'',language:'')
POST    /blog/posts/new                                       BlogController.doNewPost(action:'create',otherUrlId:'',otherLanguage:'')
GET     /blog/confirmDelete/{urlId}/from/{language}           BlogController.deletePost_confirm
GET     /blog/posts/{action}/{otherUrlId}/from/{language}     BlogController.newPost
POST    /blog/posts/{action}/{otherUrlId}/{otherLanguage}     BlogController.doNewPost

# Post accessing stuff + Comments posting stuff
GET     /blog/post/{urlId}                                    BlogViewer.show
POST    /blog/post/{urlId}/comment/new                        BlogController.postComment

# Rss
GET     /blog/rss/{lang}                                      Feeds.main
